---
import { Icon } from "astro-icon/components";
---

<div class="float-buttons" aria-hidden="true">
  <div class="back-to-top">
    <div class="tooltip" data-tip="Scroll to top">
      <button
        onclick="window.scrollTo({ top: 0, behavior: 'smooth' })"
        class="btn btn-circle btn-lg md:btn-xl"
        aria-label="Scroll to top"
      >
        <Icon class="text-lg md:text-xl" name="mingcute:arrow-up-line" />
      </button>
    </div>
  </div>
  <div class="show-toc hidden md:hidden!">
    <div class="tooltip" data-tip="Show TOC">
      <button
        onclick="document.body.classList.toggle('show-toc')"
        class="btn btn-circle btn-lg md:btn-xl"
        aria-label="Show TOC"
      >
        <Icon class="text-lg md:text-xl" name="mingcute:list-check-fill" />
      </button>
    </div>
  </div>
</div>

<script>
  document.addEventListener("scroll", () => {
    if (window.scrollY > 100) {
      document.body.classList.add("is-scrolled");
    } else {
      document.body.classList.remove("is-scrolled");
    }
  });
</script>

<style lang="scss">
  .float-buttons {
    position: fixed;
    bottom: 20px;
    right: 20px;
    display: flex;
    flex-direction: column;
    gap: 10px;

    body.has-sidebar & .show-toc {
      display: block;
    }

    body.is-scrolled & .back-to-top {
      opacity: 1;
      transform: translateX(0);
    }
    .back-to-top {
      opacity: 0;
      transform: translateX(100px);
      transition: all 0.3s ease-in-out;
    }
  }

  @media print {
    .float-buttons {
      display: none;
    }
  }
</style>
